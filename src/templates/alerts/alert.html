{% extends "base.html" %}
{% block content %}
    <div class="page-header">  <!--the alert object is passed by method of blueprint-->
        <h1>Alert <small>for '{{ alert.item.name }}'</small></h1>
    </div>
    <p>Last price found <strong>{{ alert.item.price }}</strong></p>
    <p>Last checked on <strong>{{ alert.last_checked.strftime('%d-%m-%Y at %H:%M') }}</strong></p>
    <div class="panel panel-default">
        <div class="panel-body">
            <a class="btn btn-default" href="{{ alert.item.url }}" role="button">Visit Site</a> <!--alert object from the method of alert blueprint-->
            <a class="btn btn-warning" href="{{ url_for('alerts.edit_alert', alert_id=alert._id) }}" role="button">Edit Alert</a>
            {% if alert.active %}  <!--if the alert object's active is true-->
                <a class="btn btn-danger" href="{{ url_for('alerts.deactivate_alert', alert_id=alert._id) }}" role="button">Deactivate Alert</a>  <!--url_for can invoke the method of blueprint-->
            {% else %}
                <a class="btn btn-success" href="{{ url_for('alerts.activate_alert', alert_id=alert._id) }}" role="button">Activate Alert</a>
                <a class="btn btn-danger" href="{{ url_for('alerts.delete_alert', alert_id=alert._id )}}" role="button">Permanently Delete Alert</a>
            {% endif %}
            <a class="btn btn-warning" href="{{ url_for('alerts.check_alert_price', alert_id=alert._id) }}" role="button">Check Alert Price</a>
        </div>
    </div>
{% endblock %}